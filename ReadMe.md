# Interface architecture & functionment

In the git folder, you'll find multiple things :
* an app for the interface in the app directory
* local llm(s) ;
* tests scripts.

## `app` Directory
* `__pycache__`: This directory contains cached files generated by Python to optimize the execution speed of your application. Editing these files is not necessary.
* `static`: This directory contains static files, including CSS required for the interface.
* `templates`: This directory is used to store HTML templates used in the interface.
* `__init__.py`: This Python initialization file initializes the Flask application and imports routes from the "app" package.
* `global_methods.py`: This file contains global methods or functions used in the application.

  - `determine_file_type(filename)`: Determines the type of a file based on its extension (txt or pdf).
  - `allowed_file(filename)`: Checks if a file has an authorized extension.
  - `clean_data(text)`: Cleans data by removing special characters, links, hashtags, and converting text to lowercase.
  - `remove_stopwords(text)`: Removes stopwords from the text.
  - `process_text_file(text, output_file_path)`: Performs preprocessing on input text and saves the processed text to a file.
    
* routes.py * : This file is the most important of the project. It defines the routes and the main functionality of the Flask web application. It interacts with the user through a chat interface and handles file uploads, text processing, and interactions with the language model.
  
  Here is the detailed structure :
  
1. **Imports** all packages
2. **Language Choice**: The code determines the user's language preference (French or English) to tailor the interface accordingly.
3. **File Handling**: This section manages file uploads, including PDFs and text files. Uploaded files are securely saved, and the appropriate processing parameters are determined. Here you can change 
  - **`chunk_size`** 
  - **`chunk_overlap`**
4. **User Interaction**: The application responds to user input, handling questions and summary requests.
5. **Text Processing**: Uploaded text files undergo processing, splitting, and preparation for interactions with the language model.
6. **Language Model Integration**: The application interacts with the Hugging Face language model, offering both API and local solutions for language processing.
7. **Chat History**: A dictionary of chat messages is maintained, with 'a' representing answers from the language model and 'q' representing user questions.
   
* settings.py * : By changing the settings in this file you don't need to update anything in the routes file
  
- **Language Choice**: Configure the language preference for the interface between French ("fr") and English ("en").
- **Interface Mode**: Choose between a local interface (default) or an API-based solution.
- **LLM Configuration**: Configure the Language Model (LLM) by specifying its name and folder location. You can also set up the embeddings model.






